<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jo√£o & Larissa ‚Äî Casamento</title>
  <meta name="description" content="Site do casamento ‚Äî informa√ß√µes e novidades." />

  <style>
    /* Custom Wedding Font */
    @font-face {
      font-family: 'BrownSugar';
      src:
        url('fonts/BrownSugar.ttf') format('truetype'),
        url('fonts/BrownSugar.otf') format('opentype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    @font-face {
      font-family: 'LianaRegular';
      src: url('fonts/LianaRegular.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    :root{
      --bg: #0f0f12;
      --text: #fffbf2;
      --muted: rgba(255,251,242,.72);
      --card: rgba(255,255,255,.08);
      --stroke: rgba(255,255,255,.14);
      --shadow: 0 12px 40px rgba(0,0,0,.35);
      --radius: 18px;
      --max: 980px;
    }

    *{ box-sizing: border-box; }
    html, body{ height: 100%; }
    body{
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
    }

    /* Mobile-first layout */
    .wrap{
      width: 100%;
      max-width: var(--max);
      margin: 0 auto;
      padding: 0 18px;
    }

    /* HERO */
    .hero{
      position: relative;
      min-height: 100vh;
      display: grid;
      place-items: end center;
      padding: 18px 0 22px;
      overflow: hidden;
      isolation: isolate;
    }

    .hero__media{
      position: absolute;
      inset: 0;
      z-index: -2;
      transform: translate3d(0,0,0);
      will-change: transform;
    }

    .hero__img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
      filter: saturate(1.05) contrast(1.02);
      transform: scale(1.06);
      will-change: transform;
    }

    /* Soft overlays to keep text readable */
    .hero::before{
      content: "";
      position: absolute;
      inset: 0;
      background:
        radial-gradient(1200px 800px at 50% 20%, rgba(0,0,0,0) 0%, rgba(0,0,0,.22) 40%, rgba(0,0,0,.55) 100%),
        linear-gradient(to bottom, rgba(0,0,0,.10) 0%, rgba(0,0,0,.65) 85%, rgba(0,0,0,.85) 100%);
      z-index: -1;
      pointer-events: none;
    }

    .hero__content{
      width: 100%;
      padding: 0 18px;
      padding-top: 20vh;
    }

    .hero__card{
      width: 100%;
      max-width: 520px;
      margin: 0 auto;
      background: rgba(0,0,0,.32);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      padding: 14px 14px 12px;
    }

    .hero__title{
      margin: 0;
      font-size: 1.35rem;
      letter-spacing: .3px;
      text-align: center;
      font-family: 'LianaRegular', serif;
      font-synthesis: none;
    }

    .hero__subtitle{
      margin: 6px 0 0;
      text-align: center;
      color: var(--muted);
      font-size: .98rem;
      font-family: 'BrownSugar', serif;
    }

    .scroll-indicator{
      display: grid;
      place-items: center;
      gap: 8px;
      margin-top: 14px;
      color: rgba(255,255,255,.85);
      user-select: none;
    }

    .scroll-indicator__pill{
      height: 34px;
      width: 22px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.45);
      position: relative;
      background: rgba(255,255,255,.04);
      overflow: hidden;
    }

    .scroll-indicator__dot{
      width: 4px;
      height: 4px;
      background: rgba(255,255,255,.9);
      border-radius: 999px;
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      top: 8px;
      animation: wheel 1.6s infinite;
    }

    @keyframes wheel{
      0%{ opacity: 0; transform: translate(-50%, -2px); }
      25%{ opacity: 1; }
      80%{ opacity: 1; transform: translate(-50%, 12px); }
      100%{ opacity: 0; transform: translate(-50%, 14px); }
    }

    /* COUNTDOWN (floating over the photo) */
    .hero-overlay{
      position: absolute;
      inset: 0;
      z-index: 3;
      pointer-events: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding-top: 5vh;
      gap: clamp(10px, 2.6vh, 24px);
    }

    @media (max-height: 700px){
      .hero-overlay{ padding-top: 3vh; }
      .hero__content{ padding-top: 26vh; }
    }

    /* Mobile: bring overlay down, card up, and scale typography */
    @media (max-width: 520px){
      .hero-overlay{ padding-top: 9vh; }
      .hero__content{ padding-top: 7vh; }

      .hero__title{ font-size: 2.15rem; }
      .hero__subtitle{ font-size: 1.3rem; }
    }

    @media (max-width: 380px){
      .hero-overlay{ padding-top: 10vh; }
      .hero__content{ padding-top: 6vh; }

      .hero__title{ font-size: 2.0rem; }
      .hero__subtitle{ font-size: 1.22rem; }
    }

    /* Tall screens (fullscreen desktop): center the composition vertically */
    @media (min-height: 900px){
      .hero-overlay{ padding-top: 9vh; }
      .hero__content{ padding-top: 16vh; }
    }

    @media (min-height: 1050px){
      .hero-overlay{ padding-top: 10vh; }
      .hero__content{ padding-top: 14vh; }
    }

    .countdown-float{
      width: min(960px, calc(100% - 36px));
      display: flex;
      justify-content: center;
      gap: clamp(18px, 6vw, 110px);
      align-items: flex-end;
      text-align: center;
      padding: 8px 0 0;
    }

    .hero-logo{
      display: flex;
      justify-content: center;
      width: 100%;
    }

    .hero-logo img{
      width: clamp(150px, 34vw, 280px);
      height: auto;
      filter: drop-shadow(0 10px 28px rgba(0,0,0,.55));
    }

    .countdown-float__item{
      display: grid;
      gap: 6px;
      justify-items: center;
      min-width: 64px;
    }

    .countdown-float__num{
      font-family: 'BrownSugar', serif;
      font-weight: 300;
      font-size: clamp(53px, 14vw, 132px);
      line-height: .9;
      letter-spacing: .5px;
      color: rgba(255,255,255,.96);
      text-shadow: 0 10px 28px rgba(0,0,0,.55);
    }

    .countdown-float__label{
      font-family: 'BrownSugar', serif;
      font-size: clamp(12px, 3.6vw, 24px);
      letter-spacing: 2px;
      text-transform: uppercase;
      color: rgba(255,255,255,.85);
      text-shadow: 0 10px 28px rgba(0,0,0,.55);
    }

    /* hide the old note text (we'll keep a small note inside the card) */
    .countdown__note{ display: none; }

    @media (min-width: 680px){
      .countdown-float{ padding-top: 6px; }
    }

    /* MAIN */
    main{
      position: relative;
      padding: 26px 0 70px;
      background: url('src/bg2.png') center / cover no-repeat;
      background-attachment: fixed;
    }

    /* iOS/Android: fixed backgrounds can be janky */
    @media (max-width: 680px){
      main{ background-attachment: scroll; }
    }

    .site-sections{
      position: relative;
      padding: 26px 0 70px;
      background: url('src/bg2.png') center / cover no-repeat;
      background-attachment: fixed;
    }

    @media (max-width: 680px){
      .site-sections{ background-attachment: scroll; }
    }

    .section{
      margin: 18px 0;
    }

    /* Mobile: reduce the gap between the video block and the next section */
    @media (max-width: 680px){
      main#inicio{ padding-bottom: 10px; }
      .site-sections{ padding-top: 10px; }

      /* tighten the first content card spacing */
      .site-sections .section:first-child{ margin-top: 10px; }
      main#inicio .section{ margin-bottom: 10px; }
    }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }

    .h2{
      margin: 0 0 8px;
      font-size: 1.1rem;
      letter-spacing: .2px;
    }

    .p{
      margin: 0;
      color: var(--muted);
      font-size: 0.98rem;
    }

    .grid{
      display: grid;
      gap: 14px;
    }

    /* VIDEO SECTION */
    .video-card{
      background: rgba(0,0,0,.28);
      border: 1px solid rgba(255,255,255,.18);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      overflow: hidden;
    }

    .video-header{
      padding: 14px 16px 10px;
    }

    .video-title{
      margin: 0;
      font-size: 1.05rem;
      letter-spacing: .2px;
    }

    .video-sub{
      margin: 6px 0 0;
      color: var(--muted);
      font-size: .95rem;
    }

    .video-wrap{
      position: relative;
      width: 100%;
      aspect-ratio: 16 / 9;
      background: rgba(0,0,0,.35);
    }

    .video-wrap video{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .unmute-btn{
      position: absolute;
      right: 12px;
      bottom: 12px;
      z-index: 2;
      border: 1px solid rgba(255,255,255,.22);
      background: rgba(0,0,0,.45);
      color: var(--text);
      border-radius: 999px;
      padding: 10px 12px;
      font-size: .92rem;
      letter-spacing: .2px;
      display: inline-flex;
      gap: 8px;
      align-items: center;
      cursor: pointer;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }


    .unmute-btn:active{ transform: translateY(1px); }

    .unmute-icon{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: rgba(255,251,242,.92);
      box-shadow: 0 0 0 3px rgba(255,251,242,.18);
    }

    /* Scroll reveal base (JS will toggle .is-visible) */
    .reveal{
      opacity: 0;
      transform: translateY(18px);
      transition: opacity 700ms ease, transform 700ms ease;
      will-change: opacity, transform;
    }

    .reveal.is-visible{
      opacity: 1;
      transform: translateY(0);
    }

    /* Desktop-ish tweaks */
    @media (min-width: 680px){
      .wrap{ padding: 0 24px; }
      .hero__title{ font-size: 1.7rem; }
      .hero__subtitle{ font-size: 1.05rem; }
      .grid{ grid-template-columns: 1fr 1fr; }
      .hero__card{ padding: 10px 10px 10px; }
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      .reveal{ transition: none; }
      .scroll-indicator__dot{ animation: none; }
      .hero__media, .hero__img{ transform: none !important; }
    }
  </style>
</head>

<body>
  <!-- PRIMEIRO ITEM: a foto do Save the Date ocupando a primeira tela -->
  <header class="hero" aria-label="Capa do casamento">
    <div class="hero__media" aria-hidden="true">
      <img class="hero__img" src="src/bg.png" alt="Save the Date" />
    </div>

    <div class="hero-overlay" aria-hidden="true">
      <div class="hero-logo">
        <img src="src/Logo_negativo.png" alt="Jo√£o e Larissa - Logo do casamento" />
      </div>

      <div class="countdown-float" id="countdown" role="group" aria-label="Contagem regressiva para o casamento">
        <div class="countdown-float__item">
          <span class="countdown-float__num" data-unit="days">‚Äî</span>
          <span class="countdown-float__label">DIAS</span>
        </div>
        <div class="countdown-float__item">
          <span class="countdown-float__num" data-unit="hours">‚Äî</span>
          <span class="countdown-float__label">HORAS</span>
        </div>
        <div class="countdown-float__item">
          <span class="countdown-float__num" data-unit="minutes">‚Äî</span>
          <span class="countdown-float__label">MINUTOS</span>
        </div>
        <div class="countdown-float__item">
          <span class="countdown-float__num" data-unit="seconds">‚Äî</span>
          <span class="countdown-float__label">SEGUNDOS</span>
        </div>
      </div>
    </div>

    <div class="hero__content">
      <div class="hero__card reveal">
        <h1 class="hero__title">Jo√£o &amp; Larissa</h1>
        <p class="hero__subtitle">12.09.2026</p>
        <p class="countdown__note" id="countdownNote" aria-live="polite">Contagem regressiva para 12.09.2026</p>

        <div class="scroll-indicator" aria-hidden="true">
          <div class="scroll-indicator__pill"><span class="scroll-indicator__dot"></span></div>
          <small style="opacity:.85">role para ver mais</small>
        </div>
      </div>
    </div>
  </header>

  <!-- V√≠deo do casal (autoplay, loop, com bot√£o para ativar som) -->
  <main id="inicio">
    <div class="wrap">
      <section class="section reveal" id="video">
        <div class="video-card">
          <div class="video-header">
            <h2 class="video-title">Uma mensagem nossa üíõ</h2>
            <p class="video-sub">(placeholder) Depois voc√™s colocam aqui uma frase curta ou deixam sem texto.</p>
          </div>

          <div class="video-wrap">
            <video id="coupleVideo" autoplay loop muted playsinline preload="metadata" poster="src/bg2.png">
              <!-- Trocar os arquivos abaixo pelos v√≠deos finais -->
              <source src="https://pub-6b4c7adb861449389e3246ce4c22ebf7.r2.dev/teste.mp4" type="video/mp4" />
              <!-- <source src="https://.../video.webm" type="video/webm" /> -->
              Seu navegador n√£o suporta v√≠deo.
            </video>

            <button class="unmute-btn" id="unmuteBtn" type="button" aria-label="Ativar/Desativar som do v√≠deo">
              <span class="unmute-icon" aria-hidden="true"></span>
              <span id="unmuteLabel">Ativar som</span>
            </button>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Conte√∫do abaixo (voc√™ vai preenchendo depois) -->
  <section class="site-sections">
    <div class="wrap">
      <section class="section reveal" id="conteudo">
        <div class="card">
          <h2 class="h2">Bem-vindos üíõ</h2>
          <p class="p">Aqui vamos colocar todas as informa√ß√µes: cerim√¥nia, recep√ß√£o, presentes, confirma√ß√£o e novidades.</p>
        </div>
      </section>

      <section class="section grid">
        <div class="card reveal">
          <h2 class="h2">Cerim√¥nia</h2>
          <p class="p">(placeholder) Depois a gente adiciona hor√°rio e endere√ßo.</p>
        </div>
        <div class="card reveal">
          <h2 class="h2">Recep√ß√£o</h2>
          <p class="p">(placeholder) Depois a gente adiciona mapa e dicas.</p>
        </div>
      </section>

      <section class="section reveal">
        <div class="card">
          <h2 class="h2">Conte√∫do extra</h2>
          <p class="p">(placeholder) Mais se√ß√µes podem entrar aqui: RSVP, lista de presentes, dress code, etc.</p>
        </div>
      </section>
    </div>
  </section>

  <script>
    // Scroll effect 1: Parallax suave no hero (imagem acompanha a rolagem)
    (function(){
      const media = document.querySelector('.hero__media');
      const img = document.querySelector('.hero__img');
      if (!media || !img) return;

      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return;

      const onScroll = () => {
        const y = window.scrollY || 0;
        // Parallax leve: move o container e ajusta escala m√≠nima para evitar bordas
        media.style.transform = `translate3d(0, ${y * 0.18}px, 0)`;
        img.style.transform = `scale(1.06) translate3d(0, ${y * 0.06}px, 0)`;
      };

      // rAF para suavizar
      let ticking = false;
      window.addEventListener('scroll', () => {
        if (!ticking) {
          window.requestAnimationFrame(() => {
            onScroll();
            ticking = false;
          });
          ticking = true;
        }
      }, { passive: true });

      onScroll();
    })();

    // Countdown: contagem regressiva para 12/09/2026 (fuso America/Sao_Paulo -03:00)
    (function(){
      const root = document.getElementById('countdown');
      const note = document.getElementById('countdownNote');
      if (!root) return;

      const els = {
        days: root.querySelector('[data-unit="days"]'),
        hours: root.querySelector('[data-unit="hours"]'),
        minutes: root.querySelector('[data-unit="minutes"]'),
        seconds: root.querySelector('[data-unit="seconds"]'),
      };

      // 12 de setembro de 2026, 00:00 no hor√°rio de Bras√≠lia (-03:00)
      const target = new Date('2026-09-12T11:00:00-03:00');

      const pad2 = (n) => String(n).padStart(2, '0');

      function render(){
        const now = new Date();
        let diff = target.getTime() - now.getTime();

        if (diff <= 0){
          // J√° chegou (ou passou) ‚Äî zera e muda mensagem
          if (els.days) els.days.textContent = '0';
          if (els.hours) els.hours.textContent = '00';
          if (els.minutes) els.minutes.textContent = '00';
          if (els.seconds) els.seconds.textContent = '00';
          if (note) note.textContent = 'Chegou o grande dia! üíõ';
          return;
        }

        const totalSeconds = Math.floor(diff / 1000);
        const days = Math.floor(totalSeconds / 86400);
        const hours = Math.floor((totalSeconds % 86400) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        if (els.days) els.days.textContent = String(days);
        if (els.hours) els.hours.textContent = pad2(hours);
        if (els.minutes) els.minutes.textContent = pad2(minutes);
        if (els.seconds) els.seconds.textContent = pad2(seconds);

        if (note) note.textContent = 'Contagem regressiva para 12.09.2026';
      }

      render();
      setInterval(render, 1000);
    })();

    // Video: toca uma vez com som; ao terminar volta para loop mutado (desktop + mobile)
    (function(){
      const video = document.getElementById('coupleVideo');
      const btn = document.getElementById('unmuteBtn');
      const label = document.getElementById('unmuteLabel');
      if (!video || !btn || !label) return;

      // Estado inicial: muted + loop (visual)
      video.muted = true;
      video.loop = true;
      video.setAttribute('muted', '');
      video.setAttribute('loop', '');

      function setUI(){
        if (video.muted){
          label.textContent = 'Ativar som';
          btn.setAttribute('aria-label', 'Ativar som do v√≠deo');
        } else {
          label.textContent = 'Desativar som';
          btn.setAttribute('aria-label', 'Desativar som do v√≠deo');
        }
      }

      // Ao terminar a mensagem, sempre volta para o loop mutado
      video.addEventListener('ended', () => {
        // Force return to muted looping visual
        video.muted = true;
        video.loop = true;
        video.setAttribute('muted', '');
        video.setAttribute('loop', '');

        // Restart from beginning to ensure loop resumes
        video.currentTime = 0;
        video.play().catch(() => {});

        setUI();
      });

      btn.addEventListener('click', async () => {
        try {
          if (video.muted){
            // Desmutar => tocar UMA vez (sem loop) do come√ßo
            video.muted = false;
            video.loop = false;
            video.removeAttribute('loop');
            video.removeAttribute('muted');
            video.currentTime = 0;
            video.volume = 1;
            await video.play();
          } else {
            // Mutar de novo => voltar para loop visual
            video.muted = true;
            video.loop = true;
            video.setAttribute('muted', '');
            video.setAttribute('loop', '');
            await video.play();
          }
        } catch (e) {
          // fallback seguro
          video.muted = true;
          video.loop = true;
          video.setAttribute('muted', '');
          video.setAttribute('loop', '');
        }
        setUI();
      });

      // Garante autoplay mutado
      video.play().catch(() => {});
      setUI();
    })();

    // Scroll effect 2: Reveal (elementos aparecem conforme entram na tela)
    (function(){
      const items = document.querySelectorAll('.reveal');
      if (!items.length) return;

      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) {
        items.forEach(el => el.classList.add('is-visible'));
        return;
      }

      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            io.unobserve(entry.target);
          }
        });
      }, { threshold: 0.12 });

      items.forEach(el => io.observe(el));
    })();
  </script>
</body>
</html>
